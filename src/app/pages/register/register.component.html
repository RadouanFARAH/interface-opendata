<div class="on_top_of_body">
  <div class="form_container">
    <div class="title">
      <h1>Enregistrement</h1>
    </div>
    <form [formGroup]="data" (ngSubmit)="onSubmit()">
      <div class="fields-container fields-container-of-three">
        <mat-form-field appearance="fill">
          <mat-label>Organisme</mat-label>
          <mat-select formControlName="organisme" (selectionChange)="changed()">
            <mat-option *ngFor="let organisme of organismes" [value]="organisme.codeorganisme">
              {{ organisme.organisme }}
            </mat-option>
          </mat-select>
          <mat-hint *ngIf="false">Hint</mat-hint>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Agence</mat-label>
          <mat-select formControlName="agence">
            <mat-option *ngFor="let agence of agences" [value]="agence.codeagence">
              {{ agence.agence}}
            </mat-option>
          </mat-select>
          <mat-hint *ngIf="false">Hint</mat-hint>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Nom</mat-label>
          <input formControlName="nom" matInput placeholder="Nom" />
          <mat-hint *ngIf="false">Hint</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input formControlName="email" matInput placeholder="Email" />
          <mat-hint *ngIf="false">Hint</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Password</mat-label>
          <input
            formControlName="password"
            matInput
            [type]="hide ? 'password' : 'text'"
            placeholder="Mot de passe"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="hide = !hide"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide"
          >
          <mat-icon style="position: relative;
          bottom: 7px;" matPrefix><img *ngIf="!hide" src="../../../assets/visible.png" alt="account icon"></mat-icon>
                      <mat-icon style="position: relative;
                      bottom: 7px;" matPrefix><img *ngIf="hide" src="../../../assets/invisible.png" alt="account icon"></mat-icon>
          </button>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="passwordConfirmation" appearance="fill">
          <mat-label>Confirmation</mat-label>
          <input
            formControlName="confirmedPassword"
            matInput
            [type]="hide ? 'password' : 'text'"
            placeholder="confirmer le mot de passe"
          />
          <mat-hint *ngIf="data.hasError('notSame')">
            Passwords do not match
          </mat-hint>
          <button
            mat-icon-button
            matSuffix
            (click)="hide = !hide"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide"
          >
          <mat-icon style="position: relative;
          bottom: 7px;" matPrefix><img *ngIf="!hide" src="../../../assets/visible.png" alt="account icon"></mat-icon>
                      <mat-icon style="position: relative;
                      bottom: 7px;" matPrefix><img *ngIf="hide" src="../../../assets/invisible.png" alt="account icon"></mat-icon>
          </button>
        </mat-form-field>
      </div>

      <p class="login">
        <button mat-raised-button type="submit">
          <h1>Enregistrer</h1>
        </button>
      </p>

      <p class="connecter"><a href="/login">Se connecter</a></p>
    </form>
  </div>
</div>
